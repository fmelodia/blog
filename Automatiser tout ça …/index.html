<!DOCTYPE html>
<html>
  <head>
    <title>Automatiser tout ça …</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="created" content="2018-05-26 16:09:39 +0200"/>
    <meta name="modified" content="2018-06-01 16:49:33 +0200"/>
    <meta name="tags" content="technique"/>
    <link rel="stylesheet" href="/default.css" type="text/css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  </head>
  <header></header>
  <body>
    <main class="note-wrapper">
      <nav>
        <a href="/" class="fas fa-home fa-2x" style="color:#de4c4f"></a>
        
          <a class="far fa-folder" href="/tag/technique/">
            technique</a>
        
      </nav>
      <article>
        <h1>Automatiser tout ça …</h1>
<p>Une fois la chaine de production mise en place, il reste à automatiser tout ça. Que <a href="https://github.com/wuusn/miyano">miyano</a> se lance automatiquement.</p>
<p>Deux possibilités :</p>
<ul><li>le blog se met à jour régulièrement, tout les jours à 23h par exemple, avec tout les documents <i>.bearnote</i> présents.</li></ul>
<ul><li>le blog se met à jour à chaque ajout d’un nouveau document dans le répertoire surveillé.</li></ul>
<p>Quoi qu’il en soit, sous OSX 10.13, il va falloir utiliser <a href="http://www.launchd.info">launchd</a>, un outil qui permet la mise en place d’<i>agents</i>, des taches automatiques et répétitives.</p>
<hr>
<p>L’<i>agent</i> est situé dans  <code class="code-inline">~/Library/LaunchAgents</code> et devrait ressembler à :</p>
<pre><code class="code-multiline highlight"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
<span class="nt">&lt;key&gt;</span>miyano<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>miyano<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;key&gt;</span>WorkingDirectory<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>~/Library/Mobile Documents/com~apple~CloudDocs/web<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;key&gt;</span>StartCalendarInterval<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;dict&gt;</span>
	<span class="nt">&lt;key&gt;</span>Hour<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;integer&gt;</span>23<span class="nt">&lt;/integer&gt;</span>
	<span class="nt">&lt;key&gt;</span>Minute<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;integer&gt;</span>0<span class="nt">&lt;/integer&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre>
<p>ou</p>
<pre><code class="code-multiline highlight"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
<span class="nt">&lt;key&gt;</span>miyano<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>miyano<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;key&gt;</span>WorkingDirectory<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>~/Library/Mobile Documents/com~apple~CloudDocs/web<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;key&gt;</span>WatchPaths<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;array&gt;</span>
	<span class="nt">&lt;string&gt;</span>~/Library/Mobile Documents/com~apple~CloudDocs/web&gt;
<span class="nt">&lt;/array&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre>
<p><a href="../tag/technique/" class="hashtag">#technique</a></p>

      </article>
    </main>
    <!-- <footer id="footer"> <div class="icons"> <script type="text/javascript"> var name = "francois"; var domain = "melodia.fr"; document.write('<a href="mailto:' + name + '@' + domain + '" class="far fa-envelope"><span class="label">
    Mail</span></a>'); </script> </div> <div class="copyright"> <li>&copy; Mélodia</li> <li>Design: <a href="http://html5up.net">HTML5 UP</a> </li> </div> </footer> -->
  </body>
  <script type="text/javascript">
    var links = document.links;
    for (var i = 0, linksLength = links.length; i < linksLength; i++) {
      if (!links[i].target) {
        if (links[i].hostname !== window.location.hostname || /\.(?!html?)([a-z]{0,3}|[a-zt]{0,4})$/.test(links[i].pathname)) {
          links[i].target = '_blank';
        }
      }
    }
  </script>
  <html>  
